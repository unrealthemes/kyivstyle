!function (t) {
    window.FontAwesomeConfig = {
        searchPseudoElements: !0
    };
    var y = t("html"),
        o = t("body"),
        a = t(".global_wrap"),
        i = t(".slide_menu"),
        n = t(".wrapper_hide"),
        l = t(".one_click_wrap"),
        r = t(".cart_nav_wrap");

    !/^((?!chrome|android).)*safari/i.test(navigator.userAgent) || navigator.userAgent.match(/iPad/i) || navigator.userAgent.match(/iPhone/i) ? (t(".cart_shop").on("click", function (e) {
        e.preventDefault(), o.addClass("overflowHidden"), y.addClass("overflowHidden"), a.addClass("toggle_global_cart_right"), r.addClass("toggle_nav_wrap"), n.addClass("wrapper_show")
    })) : t(".cart_shop").on("click", function (e) {
        e.preventDefault(), o.addClass("overflowHidden"), y.addClass("overflowHidden"), a.addClass("toggle_global_cart_right"), r.addClass("toggle_nav_wrap"), n.addClass("wrapper_show")
    }), t(".burger-menu").on("click", function (e) {
        e.preventDefault(), o.addClass("overflowHidden"), y.addClass("overflowHidden"), a.addClass("toggle_global_wrap"), i.addClass("toggle_nav"), n.addClass("wrapper_show")
    }),

        // single product page
        t(document).on("click", ".btn_one_click", function (e) {

            e.preventDefault(),
            o.addClass("overflowHidden"),
            y.addClass("overflowHidden"),
            a.addClass("toggle_global_wrap_right"),
            l.addClass("toggle_one_click"),
            n.addClass("wrapper_show");

            var title = $(this).data('title');
            var url = $(this).data('url');
            var price = $(this).data('price');
            var select = $(this).data('select');
            var thumb = $(this).data('thumb');
            var preorder = $(this).data('preorder');
            var prod_select = $(".card_product__attributes .select-wrapper select option:selected");
            var first_option = $(".select-wrapper select option:first").val();
            var variation_id = prod_select.data('variation-id');

            // clear input value before add data
            $("#title").val("");
            $("#price").val("");
            $('#color').val("");
            $("#url").val("");
            $("#url").val("");

            $("#product_id").val($(this).data('product_id'));

            if ( $(this).data('variation_id') == '' ) {
                $("#variation_id").val( variation_id );
            } else {
                $("#variation_id").val( $(this).data('variation_id') );
            }

            // add data product to form
            $(".one_click__img").attr('src', thumb);
            $(".card_product__price").html( JSON.parse(price) );
            $(".one_click__name").html(title);
            $(".one_click__select .select-wrapper").html( $(".card_product__attributes .select-wrapper select").clone() );

            $('.one_click__items .one_click__img').attr('src', prod_select.data('thumb'));
            var current_option = $(".one_click__select .select-wrapper .card_product__select option[value='" + prod_select.val() + "']");
            $(current_option).prop('selected', 'selected');

            if (preorder == 'yes') {
                $("#btn_send").val('ПРЕДЗАКАЗ');
            } else {
                $("#btn_send").val('КУПИТИ');
            }

            /**
             * Change product price by color
             */
            $('.card_product__select').on('change', function () {

                var val = $(this).val();
                var price = $(this).find(':selected').data('price');
                var thumb = $(this).find(':selected').data('thumb');
                variation_id = $(this).find(':selected').data('variation-id');
                $('.card_product__price').html(JSON.parse(price));
                $('.variation_id').val(variation_id);
                $('.card_product__btn').prop("disabled", false);
                // add to form input
                $('#color').val($(this).find(':selected').text());
                $("#variation_id").val(variation_id);

                if ( thumb ) {
                    $('.one_click__items .one_click__img').attr('src', thumb);
                }

                if ( $('.card_product__attributes .card_product__select') != '' ) {
                    $('.card_product__attributes .card_product__select').val( val );
                }
            });

            if ( prod_select.data('price') ) {

                var val = prod_select.val();
                var default_color_price = prod_select.data('price');

                $('.card_product__price').html(JSON.parse(default_color_price));
                $('.variation_id').val(variation_id);
                $('.card_product__btn').prop("disabled", false);
                // add to form input
                $('#color').val( prod_select.text() );
            }

            // add to form input
            $("#title").val( title );
            $("#price").val( price );
            $("#url").val( url );
            $("#attr").val( first_option );

        });

        // home page
        t(document).on("click", ".product__btn, .btn_click, .product__btns", function (e) {

            e.preventDefault(),
            o.addClass("overflowHidden"),
            y.addClass("overflowHidden"),
            a.addClass("toggle_global_wrap_right"),
            l.addClass("toggle_one_click"),
            n.addClass("wrapper_show");
            var current_btn = $(this);
            var product_id = $(this).data('product_id');
            var obj_data = {
                action: 'get_product_data_one_click',
                ajax_nonce: ut_home.ajax_nonce,
                product_id: product_id,
                variation_id: $(this).data('variation_id')
            };
        
            $.ajax({
                url: ut_home.ajax_url,
                data: obj_data,
                type: 'POST',
                success: function(response) {
        
                    if (response.success) {

                        var title = response.data.title;
                        var url = response.data.url;
                        var price = response.data.price;
                        var select_html = response.data.select_html;
                        var select = response.data.select;
                        $('.wrapper-home-select').remove();
                        current_btn.before(select_html);
                        var thumb = response.data.thumb;
                        var preorder = response.data.preorder;
                        var prod_select = $("." + select + " .card_product__select option:selected");
                        var first_option = $("." + select + " .card_product__select option:first").val(); // :eq(2)

                        // clear input value before add data
                        $("#title").val("");
                        $("#price").val("");
                        $('#color').val("");
                        $("#url").val("");

                        $("#product_id").val(product_id);
                        $("#variation_id").val($(this).data('variation_id'));

                        // add data product to form
                        $(".one_click__img").attr('src', thumb);
                        // $(".card_product__price").html(JSON.parse(price));
                        $(".card_product__price").html(price);
                        $(".one_click__name").html(title);
                        $(".one_click__select").empty();
                        $(".one_click__select").prepend($("." + select).clone());

                        if (preorder == 'yes') {
                            $("#btn_send").val('ПРЕДЗАКАЗ');
                        } else {
                            $("#btn_send").val('КУПИТИ');
                        }

                        /**
                         * Change product price by color
                         */

                        $('.card_product__select').on('change', function () {

                            var val = $(this).val();
                            var price = $(this).find(':selected').data('price');
                            var thumb = $(this).find(':selected').data('thumb');
                            var variation_id = $(this).find(':selected').data('variation-id');
                            // $('.card_product__price').html(JSON.parse(price));
                            $('.card_product__price').html(price);
                            $('.variation_id').val(variation_id);
                            $('.card_product__btn').prop("disabled", false);
                            // add to form input
                            $('#color').val($(this).find(':selected').text());
                            $("#variation_id").val(variation_id);

                            if (thumb) {
                                $('.one_click__items .one_click__img').attr('src', thumb);
                            }
                        });

                        if (prod_select.data('price')) {

                            var val = prod_select.val();
                            var variation_id = prod_select.data('variation-id');
                            var default_color_price = prod_select.data('price');

                            // $('.card_product__price').html(JSON.parse(default_color_price));
                            $('.card_product__price').html(default_color_price);
                            $('.variation_id').val(variation_id);
                            $('.card_product__btn').prop("disabled", false);
                            // add to form input
                            $('#color').val(prod_select.text());
                        }

                        // add to form input
                        $("#title").val(title);
                        $("#price").val(price);
                        $("#url").val(url);
                        $("#attr").val(first_option);
                    }
                }
            });

            // var title = $(this).data('title');
            // var url = $(this).data('url');
            // var price = $(this).data('price');
            // var select = $(this).data('select');
            // var thumb = $(this).data('thumb');
            // var preorder = $(this).data('preorder');
            // var prod_select = $("." + select + " .card_product__select option:selected");
            // var first_option = $("." + select + " .card_product__select option:first").val();

            // // clear input value before add data
            // $("#title").val("");
            // $("#price").val("");
            // $('#color').val("");
            // $("#url").val("");

            // $("#product_id").val($(this).data('product_id'));
            // $("#variation_id").val($(this).data('variation_id'));

            // // add data product to form
            // $(".one_click__img").attr('src', thumb);
            // $(".card_product__price").html(JSON.parse(price));
            // $(".one_click__name").html(title);
            // $(".one_click__select").empty();
            // $(".one_click__select").prepend($("." + select).clone());

            // if (preorder == 'yes') {
            //     $("#btn_send").val('ПРЕДЗАКАЗ');
            // } else {
            //     $("#btn_send").val('КУПИТИ');
            // }

            // /**
            //  * Change product price by color
            //  */

            // $('.card_product__select').on('change', function () {

            //     var val = $(this).val();
            //     var price = $(this).find(':selected').data('price');
            //     var thumb = $(this).find(':selected').data('thumb');
            //     var variation_id = $(this).find(':selected').data('variation-id');
            //     $('.card_product__price').html(JSON.parse(price));
            //     $('.variation_id').val(variation_id);
            //     $('.card_product__btn').prop("disabled", false);
            //     // add to form input
            //     $('#color').val($(this).find(':selected').text());
            //     $("#variation_id").val(variation_id);

            //     if (thumb) {
            //         $('.one_click__items .one_click__img').attr('src', thumb);
            //     }
            // });

            // if (prod_select.data('price')) {

            //     var val = prod_select.val();
            //     var variation_id = prod_select.data('variation-id');
            //     var default_color_price = prod_select.data('price');

            //     $('.card_product__price').html(JSON.parse(default_color_price));
            //     $('.variation_id').val(variation_id);
            //     $('.card_product__btn').prop("disabled", false);
            //     // add to form input
            //     $('#color').val(prod_select.text());
            // }

            // // add to form input
            // $("#title").val(title);
            // $("#price").val(price);
            // $("#url").val(url);
            // $("#attr").val(first_option);
        }),

        t(".wrapper_hide, .close_cart_nav, .menu__list__closed, .close_one_click").on("click touchstart", function (e) {
            e.preventDefault(), a.removeClass("toggle_global_wrap toggle_global_cart_right toggle_global_wrap_right"), i.removeClass("toggle_nav"), n.removeClass("wrapper_show"), r.removeClass("toggle_nav_wrap toggle_nav_wrap_safari"), l.removeClass("toggle_one_click"), o.removeClass("overflowHidden overflowHiddenOne"), y.removeClass("overflowHidden")
        });

    var e = t(".one_click__form input[type=text], .one_click__form input[type=email], .one_click__form textarea, .order_main__data input[type=text], .order_main__data input[type=email], .order_main__data textarea");
    e.bind("mousedown", function () {
        t(this).closest('label').addClass("littleLetter")
    }), e.on("focusout", function () {
        t(this).val() || t(this).closest('label').removeClass("littleLetter")
    }), t(".btn_quick_buy__close").on("click", function (e) {
        e.preventDefault(), t(this).parent().parent().hide()
    });


    var s = t(".reviews_controls"),
        c = new Swiper(".reviews_slider", {
            autoHeight: true,
            calculateHeight:true,
            pagination: ".reviews_controls__items",
            paginationClickable: !0,
            simulateTouch: !0
        });
    c.on("slideChange", function () {
        var e = c.activeIndex;
        s.find(".active_photo").removeClass("active_photo"), s.children().eq(e).addClass("active_photo")
    }), s.on("click", ".reviews_controls__items", function () {
        c.slideTo(t(this).index(), 500);

    });


    /**
     * Change product price by color
     */
    if (index_slide == undefined) {
        index_slide = 0;
    }
    $('.card_product__select').on('change', function () {

        var variation_id = $(this).find(':selected').attr('data-variation-id');
        var current_slide = $(".card_product__mini").find("[data-slide='" + variation_id + "']");
        var index_slide = $(".card_mini").index(current_slide);
        _.slideTo(index_slide, 500);
        // card_product__thumbnail.slideTo(index_slide, 500);


        var val = $(this).val();
        var price = $(this).find(':selected').data('price');
        var variation_id = $(this).find(':selected').data('variation-id');
        $('.card_product__price').html(JSON.parse(price));
        $('.variation_id').val(variation_id);
        $('.btn_one_click').data('variation_id', variation_id);
        $('#variation_id').val( variation_id );
        $('.card_product__btn').prop("disabled", false);

    });

    // Click to big image
    $('.card_product__slide .card_img').on('click', function () {
        _.slideNext();
    });


    if ($(".card_product__select option:selected").data('price')) {

        var val = $(".card_product__select option:selected").val();
        var variation_id = $(".card_product__select option:selected").data('variation-id');
        var default_color_price = $(".card_product__select option:selected").data('price');

        $('.card_product__price').html(JSON.parse(default_color_price));
        $('.variation_id').val(variation_id);

        if ($('.card_product__btn').data('quantity') === 0 && $('.card_product__btn').data('quantity') !== null) {

            $('.card_product__btn').prop("disabled", true);
            $('.card_product__select').prop("disabled", true);

        } else {

            $('.card_product__btn').prop("disabled", false);
            var current_slide = $(".card_product__mini").find("[data-slide='" + variation_id + "']");
            var index_slide = $(".card_mini").index(current_slide);
            // if ($('.product_slider_wrap').length != 0) {
            //     _.slideTo(index_slide, 500);
            // }
        }
    }

    // var count_product__thumbnail = $('.card_product__thumbnail .card_mini').length;
    // if (count_product__thumbnail > 6) {
    //     var card_product__thumbnail = new Swiper(".card_product__thumbnail", {
    //         slidesPerView: 'auto',
    //         spaceBetween: 15,
    //         initialSlide: index_slide
    //     });
    // }

    var d = t(".card_product__mini"),
        _ = new Swiper(".product_slider_wrap", {
            /*lazy: {      
				loadPrevNext: true,
				loadPrevNextAmount: 1,
				elementClass: 'swiper-lazy',
				loadingClass: 'swiper-lazy-loading',
				loadedClass: 'swiper-lazy-loaded',
				preloaderClass: 'swiper-lazy-preloader'
			},*/
			speed: 500,
            effect: 'fade',
            pagination: {
                el: ".swiper-pagination",
                type: "bullets",
                clickable: !0
            },
            // thumbs: {
            //     swiper: card_product__thumbnail
            // },
            initialSlide: index_slide
        });

    if ( index_slide != -1 ) {
    	d.find(".active_mini").removeClass("active_mini"), d.children().eq(index_slide).addClass("active_mini");
    }
    
    _.on("slideChange", function () {

        d.find(".active_mini").removeClass("active_mini"), d.children().eq(_.activeIndex).addClass("active_mini");
        // card_product__thumbnail.slideTo(_.activeIndex, 500);

        /**
         * Select a slide for the selected color
         */
        if (d.find(".active_mini").data('slide')) {

            var current_option = $(".card_product__select option[data-variation-id='" + d.find(".active_mini").data('slide') + "']");
            $(current_option).prop('selected', 'selected');

            var price = current_option.data('price');
            var variation_id = current_option.data('variation-id');
            $('.card_product__price').html(JSON.parse(price));
            $('.variation_id').val(variation_id);
            $('.card_product__btn').prop("disabled", false);
        } else {
            $(".card_product__select option:first").prop('selected', 'selected');
            $('.card_product__btn').prop("disabled", true);
        }

        if ( $(".card_product .card_product__select").length == 0 ) {
            $('.card_product__btn').prop("disabled", false);
        }

    }), d.on("click", ".card_mini", function () {
        _.slideTo(t(this).index(), 500);

        if ( $(".card_product .card_product__select").length == 0 ) {
            $('.card_product__btn').prop("disabled", false);
        }
    });


    var p = new Swiper(".slider_one_text", {
            pagination: {
                el: ".swiper-pagination",
                type: "fraction"
            },
            effect: 'fade',
            fadeEffect: {
                crossFade: true
            },
            speed: 500,
            simulateTouch: !1,
        }),
        g = (new Swiper(".slider_one_foto", {
            pagination: {
                el: ".swiper-pagination",
                type: "bullets",
                clickable: !0
            },
            effect: 'fade',
            speed: 500,
            controller: {
                control: [p]
            }
        }), new Swiper(".slider_two_text", {
            pagination: {
                el: ".swiper-pagination",
                type: "fraction"
            },
            effect: 'fade',
            fadeEffect: {
                crossFade: true
            },
            speed: 500,
            simulateTouch: !1
        }));
    new Swiper(".slider_two_foto", {
        pagination: {
            el: ".swiper-pagination",
            type: "bullets",
            clickable: !0
        },
        effect: 'fade',
        speed: 500,
        controller: {
            control: [g]
        }
    });
    t("textarea").on("keypress", function () {
        var e = this;
        setTimeout(function () {
            e.style.cssText = "height:auto; padding:0", e.style.cssText = "-moz-box-sizing:content-box", e.style.cssText = "height:" + e.scrollHeight + "px"
        }, 0)
    }), t(window).on("load resize orientationchange", function () {
        t(window).width() <= "992" ? t(".telephone").attr("href", "tel:+380505601114") : t(".telephone").removeAttr("href", "tel:+380505601114")
    })

// Animate input form
//     $('body').on('change', '#shipping_method input[type=radio]', function () {
//         $('.input-text').each(function () {
//             if ($(this).val() !== '') {
//                 $(this).closest('.form-row').addClass('littleLetter')
//             }
//         });
//     });
    $('.input-text').each(function () {
        if ($(this).val() !== '') {
            $(this).closest('.form-row').addClass('littleLetter')
        }
    });
    $('body').on('focus', '.input-text', function () {
        $(this).parents('.form-row').addClass('littleLetter')
    });
    $('body').on('focusout', '.input-text', function () {
        if ($(this).val() == '' || $(this).val() == '+38 (___) ___-____') {
            $(this).parents('.form-row').removeClass('littleLetter')
        }
    });

    $('.form-with-animation fieldset input, .form-with-animation fieldset textarea').on('focus', function () {
        $(this).closest('fieldset').addClass('littleLetter');
    });
    $('.form-with-animation fieldset input, .form-with-animation fieldset textarea').on('focusout', function () {
        if ($(this).val() == '' || $(this).val() == '+38 (___) ___-____') {
            $(this).closest('fieldset').removeClass('littleLetter');
        }
    });

    $('.product_slider_wrap, .card_product__thumbnail').addClass('show');
    // Animate input form
    // $('.woocommerce-billing-fields__field-wrapper .input-text').on('focus', function () {
    //     $(this).closest('.form-row').find('label').addClass('littleLetter')
    // });

}(jQuery);



var app = new Vue({
    el: "#vueToggle",
    data: {
        show: !0
    },
    methods: {
        onResize: function () {
            768 < window.innerWidth && (this.show = !0)
        }
    },
    created: function () {
        window.addEventListener("resize", this.onResize), window.addEventListener("load", this.onResize)
    }
});
